<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WKU ë¡œìŠ¤ì¿¨ PBL ì˜ˆì•½ì‹œìŠ¤í…œ - ë²„ê·¸ ìˆ˜ì • ë³´ê³ ì„œ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #2563eb;
      --primary-light: #dbeafe;
      --danger: #dc2626;
      --danger-light: #fee2e2;
      --success: #16a34a;
      --success-light: #dcfce7;
      --warning: #d97706;
      --warning-light: #fef3c7;
      --gray-50: #f9fafb;
      --gray-100: #f3f4f6;
      --gray-200: #e5e7eb;
      --gray-600: #4b5563;
      --gray-700: #374151;
      --gray-900: #111827;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--gray-50);
      color: var(--gray-900);
      line-height: 1.6;
    }

    /* Hero */
    .hero {
      background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 50%, #3b82f6 100%);
      color: white;
      padding: 60px 24px 80px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .hero::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle at 30% 70%, rgba(255,255,255,0.05) 0%, transparent 50%),
                  radial-gradient(circle at 70% 30%, rgba(255,255,255,0.07) 0%, transparent 50%);
    }
    .hero-badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 100px;
      padding: 6px 18px;
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.5px;
      margin-bottom: 20px;
    }
    .hero h1 {
      font-size: clamp(24px, 4vw, 40px);
      font-weight: 800;
      margin-bottom: 12px;
      position: relative;
    }
    .hero p {
      font-size: 16px;
      opacity: 0.85;
      max-width: 600px;
      margin: 0 auto;
      position: relative;
    }

    /* Container */
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* Summary Cards */
    .summary-section {
      margin-top: -40px;
      padding-bottom: 40px;
    }
    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }
    .summary-card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      text-align: center;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .summary-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    }
    .summary-card .icon {
      width: 52px;
      height: 52px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin: 0 auto 12px;
    }
    .summary-card .value {
      font-size: 32px;
      font-weight: 800;
      line-height: 1;
      margin-bottom: 6px;
    }
    .summary-card .label {
      font-size: 13px;
      color: var(--gray-600);
      font-weight: 500;
    }
    .card-danger .icon { background: var(--danger-light); }
    .card-danger .value { color: var(--danger); }
    .card-success .icon { background: var(--success-light); }
    .card-success .value { color: var(--success); }
    .card-primary .icon { background: var(--primary-light); }
    .card-primary .value { color: var(--primary); }
    .card-warning .icon { background: var(--warning-light); }
    .card-warning .value { color: var(--warning); }

    /* Sections */
    .section {
      background: white;
      border-radius: 20px;
      padding: 36px;
      margin-bottom: 24px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    }
    .section-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 28px;
      padding-bottom: 20px;
      border-bottom: 2px solid var(--gray-100);
    }
    .section-icon {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      flex-shrink: 0;
    }
    .section-title {
      font-size: 20px;
      font-weight: 700;
      color: var(--gray-900);
    }
    .section-subtitle {
      font-size: 13px;
      color: var(--gray-600);
      margin-top: 2px;
    }

    /* Bug Cards */
    .bug-card {
      border: 2px solid var(--gray-200);
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 20px;
      transition: border-color 0.2s;
    }
    .bug-card:hover { border-color: var(--primary); }
    .bug-card-header {
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      user-select: none;
    }
    .bug-card-header.danger { background: var(--danger-light); }
    .bug-card-header.warning { background: var(--warning-light); }
    .bug-badge {
      padding: 4px 12px;
      border-radius: 100px;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 0.3px;
    }
    .badge-critical { background: var(--danger); color: white; }
    .badge-moderate { background: var(--warning); color: white; }
    .badge-fixed { background: var(--success); color: white; }
    .bug-title {
      font-size: 16px;
      font-weight: 700;
      flex: 1;
    }
    .bug-card-body {
      padding: 20px;
    }
    .bug-detail-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    @media (max-width: 600px) {
      .bug-detail-grid { grid-template-columns: 1fr; }
    }
    .bug-detail-box {
      background: var(--gray-50);
      border-radius: 12px;
      padding: 16px;
    }
    .bug-detail-box h4 {
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--gray-600);
      margin-bottom: 10px;
    }
    .bug-detail-box p {
      font-size: 14px;
      color: var(--gray-700);
      line-height: 1.6;
    }

    /* Code blocks */
    .code-block {
      background: #1e293b;
      color: #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 13px;
      line-height: 1.7;
      overflow-x: auto;
      margin: 12px 0;
      position: relative;
    }
    .code-block .code-label {
      position: absolute;
      top: 10px;
      right: 14px;
      font-size: 11px;
      color: #64748b;
      font-family: sans-serif;
    }
    .code-del { color: #f87171; text-decoration: line-through; opacity: 0.7; }
    .code-add { color: #86efac; }
    .code-comment { color: #64748b; }
    .code-keyword { color: #93c5fd; }
    .code-string { color: #fde68a; }
    .code-func { color: #c084fc; }

    /* Flow diagram */
    .flow-container {
      display: flex;
      flex-direction: column;
      gap: 0;
      align-items: flex-start;
      padding: 8px 0;
    }
    .flow-step {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      position: relative;
      padding-bottom: 8px;
    }
    .flow-step:not(:last-child)::after {
      content: '';
      position: absolute;
      left: 19px;
      top: 40px;
      bottom: 0;
      width: 2px;
      background: var(--gray-200);
    }
    .flow-dot {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      flex-shrink: 0;
      position: relative;
      z-index: 1;
    }
    .flow-dot.red { background: var(--danger-light); }
    .flow-dot.green { background: var(--success-light); }
    .flow-dot.blue { background: var(--primary-light); }
    .flow-dot.gray { background: var(--gray-100); }
    .flow-content {
      flex: 1;
      padding: 10px 0 24px;
    }
    .flow-content h4 {
      font-size: 15px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .flow-content p {
      font-size: 13px;
      color: var(--gray-600);
    }
    .flow-content .highlight {
      display: inline-block;
      background: var(--danger-light);
      color: var(--danger);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      margin-top: 4px;
    }
    .flow-content .highlight.ok {
      background: var(--success-light);
      color: var(--success);
    }

    /* Chart section */
    .chart-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
    }
    @media (max-width: 700px) {
      .chart-grid { grid-template-columns: 1fr; }
    }
    .chart-box {
      background: var(--gray-50);
      border-radius: 16px;
      padding: 20px;
    }
    .chart-box h3 {
      font-size: 15px;
      font-weight: 700;
      margin-bottom: 16px;
      color: var(--gray-700);
    }
    .chart-wrapper {
      position: relative;
      height: 220px;
    }

    /* Timeline */
    .timeline {
      position: relative;
      padding-left: 32px;
    }
    .timeline::before {
      content: '';
      position: absolute;
      left: 10px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--gray-200);
    }
    .timeline-item {
      position: relative;
      margin-bottom: 24px;
    }
    .timeline-item::before {
      content: '';
      position: absolute;
      left: -26px;
      top: 6px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--primary);
      border: 3px solid white;
      box-shadow: 0 0 0 2px var(--primary);
    }
    .timeline-item.done::before { background: var(--success); box-shadow: 0 0 0 2px var(--success); }
    .timeline-time {
      font-size: 12px;
      color: var(--gray-600);
      font-weight: 600;
      margin-bottom: 4px;
    }
    .timeline-title {
      font-size: 15px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .timeline-desc {
      font-size: 13px;
      color: var(--gray-600);
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: 4px;
      background: var(--gray-100);
      padding: 4px;
      border-radius: 12px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }
    .tab-btn {
      flex: 1;
      min-width: 100px;
      padding: 10px 16px;
      border: none;
      background: transparent;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      color: var(--gray-600);
      cursor: pointer;
      transition: all 0.2s;
    }
    .tab-btn.active {
      background: white;
      color: var(--primary);
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    .tab-panel { display: none; }
    .tab-panel.active { display: block; }

    /* Comparison table */
    .compare-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }
    .compare-table th {
      background: var(--gray-100);
      padding: 12px 16px;
      text-align: left;
      font-weight: 700;
      font-size: 13px;
      color: var(--gray-600);
    }
    .compare-table td {
      padding: 14px 16px;
      border-bottom: 1px solid var(--gray-100);
      vertical-align: top;
    }
    .compare-table tr:last-child td { border-bottom: none; }
    .compare-table tr:hover td { background: var(--gray-50); }
    .status-pill {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 100px;
      font-size: 12px;
      font-weight: 600;
    }
    .pill-before { background: var(--danger-light); color: var(--danger); }
    .pill-after { background: var(--success-light); color: var(--success); }

    /* Footer */
    footer {
      text-align: center;
      padding: 40px 24px;
      color: var(--gray-600);
      font-size: 13px;
    }
    footer strong { color: var(--primary); }

    /* Animations */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate { animation: fadeInUp 0.5s ease forwards; }
    .delay-1 { animation-delay: 0.1s; opacity: 0; }
    .delay-2 { animation-delay: 0.2s; opacity: 0; }
    .delay-3 { animation-delay: 0.3s; opacity: 0; }
    .delay-4 { animation-delay: 0.4s; opacity: 0; }
  </style>
</head>
<body>

<!-- Hero -->
<div class="hero">
  <div class="hero-badge">ğŸ”§ ë²„ê·¸ ìˆ˜ì • ì™„ë£Œ ë³´ê³ ì„œ</div>
  <h1>WKU ë¡œìŠ¤ì¿¨ PBL ì˜ˆì•½ì‹œìŠ¤í…œ<br>ë²„ê·¸ ë¶„ì„ ë° ìˆ˜ì • ê²°ê³¼</h1>
  <p>ê´€ë¦¬ì ì˜ˆì•½ ì‚­ì œ ì‹œ í™”ë©´ì—ì„œ ë°˜ì˜ë˜ì§€ ì•Šë˜ ë¬¸ì œë¥¼ step-by-stepìœ¼ë¡œ ë¶„ì„í•˜ê³  ì™„ì „íˆ í•´ê²°í–ˆìŠµë‹ˆë‹¤.</p>
</div>

<!-- Summary Cards -->
<div class="container">
  <div class="summary-section">
    <div class="summary-grid">
      <div class="summary-card card-danger animate delay-1">
        <div class="icon">ğŸ›</div>
        <div class="value">2</div>
        <div class="label">ë°œê²¬ëœ ë²„ê·¸</div>
      </div>
      <div class="summary-card card-success animate delay-2">
        <div class="icon">âœ…</div>
        <div class="value">2</div>
        <div class="label">ìˆ˜ì • ì™„ë£Œ</div>
      </div>
      <div class="summary-card card-primary animate delay-3">
        <div class="icon">ğŸ“</div>
        <div class="value">2</div>
        <div class="label">ìˆ˜ì •ëœ íŒŒì¼</div>
      </div>
      <div class="summary-card card-warning animate delay-4">
        <div class="icon">âš¡</div>
        <div class="value">100%</div>
        <div class="label">ìˆ˜ì • ì„±ê³µë¥ </div>
      </div>
    </div>
  </div>

  <!-- Tabs -->
  <div class="section">
    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab('bugs')">ğŸ› ë²„ê·¸ ìƒì„¸</button>
      <button class="tab-btn" onclick="switchTab('flow')">ğŸ”„ ì‹¤í–‰ íë¦„</button>
      <button class="tab-btn" onclick="switchTab('diff')">ğŸ“ ì½”ë“œ ë³€ê²½</button>
      <button class="tab-btn" onclick="switchTab('verify')">âœ… ê²€ì¦ ê²°ê³¼</button>
    </div>

    <!-- Tab: Bugs -->
    <div id="tab-bugs" class="tab-panel active">
      <div class="section-header" style="margin-top:0; border:none; padding:0 0 20px;">
        <div class="section-icon" style="background:#fee2e2;">ğŸ›</div>
        <div>
          <div class="section-title">ë°œê²¬ëœ ë²„ê·¸ ëª©ë¡</div>
          <div class="section-subtitle">Step-by-step ë¶„ì„ì„ í†µí•´ ë°œê²¬ëœ 2ê°€ì§€ ë²„ê·¸</div>
        </div>
      </div>

      <!-- Bug 1 -->
      <div class="bug-card">
        <div class="bug-card-header danger">
          <span class="bug-badge badge-critical">CRITICAL</span>
          <span class="bug-title">ë²„ê·¸ #1 â€” DB ì‚­ì œ ì¿¼ë¦¬ì˜ ì˜ëª»ëœ WHERE ì¡°ê±´</span>
          <span class="bug-badge badge-fixed">âœ“ ìˆ˜ì •ë¨</span>
        </div>
        <div class="bug-card-body">
          <div class="bug-detail-grid">
            <div class="bug-detail-box">
              <h4>ğŸ“ ìœ„ì¹˜</h4>
              <p><code>server/db.ts</code><br>í•¨ìˆ˜: <code>deleteReservation()</code><br>ë¼ì¸: 263</p>
            </div>
            <div class="bug-detail-box">
              <h4>ğŸ” ê·¼ë³¸ ì›ì¸</h4>
              <p>ì˜ˆì•½ ìƒì„± ì‹œ <code>createdBy</code>ê°€ <strong>NULL</strong>ë¡œ ì €ì¥ë˜ëŠ”ë°, ì‚­ì œ ì¿¼ë¦¬ì—ì„œ <code>AND createdBy = 1</code> ì¡°ê±´ì„ ì¶”ê°€í•˜ì—¬ ì¼ì¹˜í•˜ëŠ” í–‰ì´ ì—†ì–´ ì‚­ì œê°€ ì‹¤íŒ¨í•¨</p>
            </div>
            <div class="bug-detail-box">
              <h4>ğŸ’¥ ì¦ìƒ</h4>
              <p>ê´€ë¦¬ìê°€ "ì˜ˆ" ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ ì„œë²„ëŠ” ì„±ê³µ ì‘ë‹µì„ ë°˜í™˜í•˜ì§€ë§Œ DBì—ì„œ ì‹¤ì œ ì‚­ì œê°€ ì¼ì–´ë‚˜ì§€ ì•Šì•„ í™”ë©´ ê°±ì‹  í›„ì—ë„ ì˜ˆì•½ì´ ê³„ì† í‘œì‹œë¨</p>
            </div>
            <div class="bug-detail-box">
              <h4>ğŸ”§ ìˆ˜ì • ë°©ë²•</h4>
              <p><code>AND createdBy = userId</code> ì¡°ê±´ ì œê±°. ê´€ë¦¬ìëŠ” ëª¨ë“  ì˜ˆì•½ì„ ì‚­ì œí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ <code>id</code>ë§Œìœ¼ë¡œ ì‚­ì œí•˜ë„ë¡ ë³€ê²½</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Bug 2 -->
      <div class="bug-card">
        <div class="bug-card-header warning">
          <span class="bug-badge badge-moderate">MODERATE</span>
          <span class="bug-title">ë²„ê·¸ #2 â€” ê´€ë¦¬ì ì¸ì¦ ìƒíƒœ ê´€ë¦¬ ì˜¤ë¥˜</span>
          <span class="bug-badge badge-fixed">âœ“ ìˆ˜ì •ë¨</span>
        </div>
        <div class="bug-card-body">
          <div class="bug-detail-grid">
            <div class="bug-detail-box">
              <h4>ğŸ“ ìœ„ì¹˜</h4>
              <p><code>client/src/pages/Home.tsx</code><br>ìƒíƒœ: <code>mode</code><br>í•¨ìˆ˜: <code>handleAdminLogin()</code></p>
            </div>
            <div class="bug-detail-box">
              <h4>ğŸ” ê·¼ë³¸ ì›ì¸</h4>
              <p>ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í™”ë©´ ì¡°ê±´ì´ <code>mode === "admin" && adminPassword !== "2843"</code>ì¸ë°, ë¡œê·¸ì¸ ì„±ê³µ í›„ <code>setAdminPassword("")</code>ë¥¼ í˜¸ì¶œí•˜ë©´ ì¡°ê±´ì´ ë‹¤ì‹œ trueê°€ ë˜ì–´ ë¹„ë°€ë²ˆí˜¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆëŠ” ì ì¬ì  ë¬¸ì œ</p>
            </div>
            <div class="bug-detail-box">
              <h4>ğŸ’¥ ì¦ìƒ</h4>
              <p>ê´€ë¦¬ì ì¸ì¦ ìƒíƒœê°€ <code>adminPassword</code> ê°’ì— ì˜ì¡´í•˜ì—¬ ë¶ˆì•ˆì •. ìƒíƒœ ì „í™˜ íƒ€ì´ë°ì— ë”°ë¼ ì˜ˆìƒì¹˜ ëª»í•œ í™”ë©´ ì „í™˜ ë°œìƒ ê°€ëŠ¥</p>
            </div>
            <div class="bug-detail-box">
              <h4>ğŸ”§ ìˆ˜ì • ë°©ë²•</h4>
              <p>ë³„ë„ì˜ <code>"adminLogin"</code> ìƒíƒœ ì¶”ê°€. ëª¨ë“œë¥¼ <code>"select" | "user" | "adminLogin" | "admin"</code>ìœ¼ë¡œ ëª…í™•íˆ ë¶„ë¦¬í•˜ì—¬ ì¸ì¦ íë¦„ì„ ì•ˆì •í™”</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab: Flow -->
    <div id="tab-flow" class="tab-panel">
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:32px;">
        <div>
          <h3 style="font-size:16px; font-weight:700; margin-bottom:20px; color:var(--danger);">âŒ ìˆ˜ì • ì „ â€” ì‚­ì œ ì‹¤íŒ¨ íë¦„</h3>
          <div class="flow-container">
            <div class="flow-step">
              <div class="flow-dot blue">ğŸ‘†</div>
              <div class="flow-content">
                <h4>ê´€ë¦¬ìê°€ ì‚­ì œ ë²„íŠ¼ í´ë¦­</h4>
                <p>ì˜ˆì•½ ì¹´ë“œ hover ì‹œ Trash ì•„ì´ì½˜ í‘œì‹œ</p>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot blue">ğŸ’¬</div>
              <div class="flow-content">
                <h4>í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ</h4>
                <p>"ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?" AlertDialog ì˜¤í”ˆ</p>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot blue">âœ…</div>
              <div class="flow-content">
                <h4>"ì˜ˆ" í´ë¦­ â†’ API í˜¸ì¶œ</h4>
                <p><code>deleteReservation.mutateAsync({ id })</code></p>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot red">ğŸ—„ï¸</div>
              <div class="flow-content">
                <h4>DB ì¿¼ë¦¬ ì‹¤í–‰ (ë¬¸ì œ ë°œìƒ)</h4>
                <p><code>WHERE id=1 AND createdBy=1</code></p>
                <span class="highlight">createdByê°€ NULLì´ë¯€ë¡œ 0í–‰ ì‚­ì œ</span>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot red">ğŸ“¤</div>
              <div class="flow-content">
                <h4>ì„œë²„ ì„±ê³µ ì‘ë‹µ ë°˜í™˜</h4>
                <p><code>{ success: true }</code> â€” ì‹¤ì œë¡œëŠ” ì‚­ì œ ì•ˆë¨</p>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot red">ğŸ”„</div>
              <div class="flow-content">
                <h4>ìºì‹œ ë¬´íš¨í™” â†’ ì¬ì¡°íšŒ</h4>
                <p>DBì— ë°ì´í„°ê°€ ê·¸ëŒ€ë¡œì´ë¯€ë¡œ ì˜ˆì•½ì´ ë‹¤ì‹œ í‘œì‹œë¨</p>
                <span class="highlight">í™”ë©´ì—ì„œ ì˜ˆì•½ì´ ì‚¬ë¼ì§€ì§€ ì•ŠìŒ</span>
              </div>
            </div>
          </div>
        </div>
        <div>
          <h3 style="font-size:16px; font-weight:700; margin-bottom:20px; color:var(--success);">âœ… ìˆ˜ì • í›„ â€” ì‚­ì œ ì„±ê³µ íë¦„</h3>
          <div class="flow-container">
            <div class="flow-step">
              <div class="flow-dot blue">ğŸ‘†</div>
              <div class="flow-content">
                <h4>ê´€ë¦¬ìê°€ ì‚­ì œ ë²„íŠ¼ í´ë¦­</h4>
                <p>ì˜ˆì•½ ì¹´ë“œ hover ì‹œ Trash ì•„ì´ì½˜ í‘œì‹œ</p>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot blue">ğŸ’¬</div>
              <div class="flow-content">
                <h4>í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ</h4>
                <p>"ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?" AlertDialog ì˜¤í”ˆ</p>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot blue">âœ…</div>
              <div class="flow-content">
                <h4>"ì˜ˆ" í´ë¦­ â†’ API í˜¸ì¶œ</h4>
                <p><code>deleteReservation.mutateAsync({ id })</code></p>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot green">ğŸ—„ï¸</div>
              <div class="flow-content">
                <h4>DB ì¿¼ë¦¬ ì‹¤í–‰ (ìˆ˜ì •ë¨)</h4>
                <p><code>WHERE id=1</code> â€” idë§Œìœ¼ë¡œ ì‚­ì œ</p>
                <span class="highlight ok">1í–‰ ì •ìƒ ì‚­ì œ ì™„ë£Œ</span>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot green">ğŸ“¤</div>
              <div class="flow-content">
                <h4>ì„œë²„ ì„±ê³µ ì‘ë‹µ ë°˜í™˜</h4>
                <p><code>{ success: true }</code> â€” ì‹¤ì œ ì‚­ì œ ì™„ë£Œ</p>
              </div>
            </div>
            <div class="flow-step">
              <div class="flow-dot green">ğŸ”„</div>
              <div class="flow-content">
                <h4>ìºì‹œ ë¬´íš¨í™” â†’ ì¬ì¡°íšŒ</h4>
                <p>DBì—ì„œ ì‚­ì œë˜ì—ˆìœ¼ë¯€ë¡œ ì˜ˆì•½ì´ ëª©ë¡ì—ì„œ ì œê±°ë¨</p>
                <span class="highlight ok">í™”ë©´ì—ì„œ ì¦‰ì‹œ ì‚¬ë¼ì§</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab: Code Diff -->
    <div id="tab-diff" class="tab-panel">
      <h3 style="font-size:16px; font-weight:700; margin-bottom:16px;">ğŸ“„ server/db.ts â€” deleteReservation í•¨ìˆ˜</h3>
      <div class="code-block">
        <span class="code-label">TypeScript</span>
<span class="code-del">export async function deleteReservation(id: number, userId: number) {</span>
<span class="code-add">export async function deleteReservation(id: number, userId?: number) {</span>
  const db = await getDb();
  if (!db) throw new Error(<span class="code-string">"Database not available"</span>);
  const { reservations } = await <span class="code-keyword">import</span>(<span class="code-string">"../drizzle/schema"</span>);
<span class="code-del">  const { eq, and } = await import("drizzle-orm");</span>
<span class="code-add">  const { eq } = await import("drizzle-orm");</span>

<span class="code-comment">  // ê´€ë¦¬ìëŠ” ëª¨ë“  ì˜ˆì•½ì„ ì‚­ì œí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ idë§Œìœ¼ë¡œ ì‚­ì œ</span>
<span class="code-del">  await db.delete(reservations).where(and(eq(reservations.id, id), eq(reservations.createdBy, userId)));</span>
<span class="code-add">  await db.delete(reservations).where(eq(reservations.id, id));</span>
}
      </div>

      <h3 style="font-size:16px; font-weight:700; margin:24px 0 16px;">ğŸ“„ server/routers.ts â€” delete ë®¤í…Œì´ì…˜</h3>
      <div class="code-block">
        <span class="code-label">TypeScript</span>
      .<span class="code-func">mutation</span>(async ({ input }) => {
        const { deleteReservation } = await <span class="code-keyword">import</span>(<span class="code-string">"./db"</span>);
<span class="code-del">        await deleteReservation(input.id, 1);</span>
<span class="code-add">        await deleteReservation(input.id);</span>
        return { success: <span class="code-keyword">true</span> };
      }),
      </div>

      <h3 style="font-size:16px; font-weight:700; margin:24px 0 16px;">ğŸ“„ client/src/pages/Home.tsx â€” ê´€ë¦¬ì ì¸ì¦ ìƒíƒœ ë¶„ë¦¬</h3>
      <div class="code-block">
        <span class="code-label">TypeScript / React</span>
<span class="code-comment">// ìˆ˜ì • ì „: modeê°€ "admin"ìœ¼ë¡œ ì„¤ì •ë˜ë©´ ë¹„ë°€ë²ˆí˜¸ ì¡°ê±´ì— ì˜ì¡´</span>
<span class="code-del">const [mode, setMode] = useState&lt;"select" | "user" | "admin"&gt;("select");</span>
<span class="code-del">if (mode === "admin" && adminPassword !== "2843") { /* ë¹„ë°€ë²ˆí˜¸ í™”ë©´ */ }</span>

<span class="code-comment">// ìˆ˜ì • í›„: "adminLogin" ìƒíƒœë¥¼ ë³„ë„ë¡œ ë¶„ë¦¬í•˜ì—¬ ëª…í™•í•œ ìƒíƒœ ì „í™˜</span>
<span class="code-add">const [mode, setMode] = useState&lt;"select" | "user" | "adminLogin" | "admin"&gt;("select");</span>
<span class="code-add">if (mode === "adminLogin") { /* ë¹„ë°€ë²ˆí˜¸ í™”ë©´ */ }</span>
<span class="code-add">if (mode === "admin") { /* ê´€ë¦¬ì ë©”ì¸ í™”ë©´ */ }</span>
      </div>
    </div>

    <!-- Tab: Verify -->
    <div id="tab-verify" class="tab-panel">
      <div class="section-header" style="margin-top:0; border:none; padding:0 0 20px;">
        <div class="section-icon" style="background:#dcfce7;">âœ…</div>
        <div>
          <div class="section-title">ê²€ì¦ ê²°ê³¼</div>
          <div class="section-subtitle">ìˆ˜ì • ì „í›„ ë™ì‘ ë¹„êµ ë° ì‹¤ì œ í…ŒìŠ¤íŠ¸ ê²°ê³¼</div>
        </div>
      </div>

      <table class="compare-table">
        <thead>
          <tr>
            <th>í…ŒìŠ¤íŠ¸ í•­ëª©</th>
            <th>ìˆ˜ì • ì „</th>
            <th>ìˆ˜ì • í›„</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>DB ì‚­ì œ ì¿¼ë¦¬ ì‹¤í–‰</strong><br><small>WHERE id=N AND createdBy=1</small></td>
            <td><span class="status-pill pill-before">âŒ 0í–‰ ì‚­ì œ (ì‹¤íŒ¨)</span></td>
            <td><span class="status-pill pill-after">âœ… 1í–‰ ì‚­ì œ (ì„±ê³µ)</span></td>
          </tr>
          <tr>
            <td><strong>í™”ë©´ ê°±ì‹  í›„ ì˜ˆì•½ í‘œì‹œ</strong><br><small>ìºì‹œ ë¬´íš¨í™” í›„ ì¬ì¡°íšŒ</small></td>
            <td><span class="status-pill pill-before">âŒ ì˜ˆì•½ì´ ê³„ì† í‘œì‹œë¨</span></td>
            <td><span class="status-pill pill-after">âœ… ì˜ˆì•½ì´ ì¦‰ì‹œ ì‚¬ë¼ì§</span></td>
          </tr>
          <tr>
            <td><strong>ê´€ë¦¬ì ì¸ì¦ í™”ë©´ ì „í™˜</strong><br><small>ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ ë¡œê·¸ì¸</small></td>
            <td><span class="status-pill pill-before">âš ï¸ ìƒíƒœ ì˜ì¡´ì„± ë¶ˆì•ˆì •</span></td>
            <td><span class="status-pill pill-after">âœ… ëª…í™•í•œ ìƒíƒœ ë¶„ë¦¬</span></td>
          </tr>
          <tr>
            <td><strong>ì„œë²„ ì‘ë‹µ</strong><br><small>API ì„±ê³µ ì—¬ë¶€</small></td>
            <td><span class="status-pill pill-before">âš ï¸ ì„±ê³µ ë°˜í™˜ (ì‹¤ì œ ë¯¸ì‚­ì œ)</span></td>
            <td><span class="status-pill pill-after">âœ… ì„±ê³µ ë°˜í™˜ (ì‹¤ì œ ì‚­ì œ)</span></td>
          </tr>
          <tr>
            <td><strong>í† ìŠ¤íŠ¸ ì•Œë¦¼</strong><br><small>"ì˜ˆì•½ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤"</small></td>
            <td><span class="status-pill pill-before">âš ï¸ í‘œì‹œë˜ë‚˜ ì‹¤ì œ ë¯¸ì‚­ì œ</span></td>
            <td><span class="status-pill pill-after">âœ… í‘œì‹œ + ì‹¤ì œ ì‚­ì œ ì™„ë£Œ</span></td>
          </tr>
        </tbody>
      </table>

      <div style="margin-top:32px;">
        <h3 style="font-size:16px; font-weight:700; margin-bottom:20px;">ğŸ“Š ìˆ˜ì • ì „í›„ ë¹„êµ ì°¨íŠ¸</h3>
        <div class="chart-grid">
          <div class="chart-box">
            <h3>ì‚­ì œ ì„±ê³µë¥  ë¹„êµ</h3>
            <div class="chart-wrapper">
              <canvas id="successChart"></canvas>
            </div>
          </div>
          <div class="chart-box">
            <h3>ë²„ê·¸ ì‹¬ê°ë„ ë¶„í¬</h3>
            <div class="chart-wrapper">
              <canvas id="severityChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Timeline -->
  <div class="section">
    <div class="section-header">
      <div class="section-icon" style="background:#ede9fe;">â±ï¸</div>
      <div>
        <div class="section-title">ì‘ì—… íƒ€ì„ë¼ì¸</div>
        <div class="section-subtitle">ë²„ê·¸ ë°œê²¬ë¶€í„° ìˆ˜ì • ì™„ë£Œê¹Œì§€ì˜ ê³¼ì •</div>
      </div>
    </div>
    <div class="timeline">
      <div class="timeline-item done">
        <div class="timeline-time">Step 1</div>
        <div class="timeline-title">ZIP íŒŒì¼ ì••ì¶• í•´ì œ ë° ì½”ë“œ êµ¬ì¡° ë¶„ì„</div>
        <div class="timeline-desc">í”„ë¡œì íŠ¸ ì „ì²´ íŒŒì¼ êµ¬ì¡° íŒŒì•…, ì£¼ìš” íŒŒì¼(server/db.ts, server/routers.ts, client/src/pages/Home.tsx) ë¶„ì„</div>
      </div>
      <div class="timeline-item done">
        <div class="timeline-time">Step 2</div>
        <div class="timeline-title">ì˜ì¡´ì„± ì„¤ì¹˜ ë° DB í™˜ê²½ êµ¬ì„±</div>
        <div class="timeline-desc">pnpm install, MySQL ì„œë¹„ìŠ¤ ì‹œì‘, DB ìƒì„±, .env íŒŒì¼ ì„¤ì •, drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰</div>
      </div>
      <div class="timeline-item done">
        <div class="timeline-time">Step 3</div>
        <div class="timeline-title">ë²„ê·¸ ì›ì¸ Step-by-Step ë¶„ì„</div>
        <div class="timeline-desc">deleteReservation í•¨ìˆ˜ì˜ AND createdBy=1 ì¡°ê±´ì´ NULL ê°’ê³¼ ë¶ˆì¼ì¹˜í•˜ì—¬ ì‚­ì œ ì‹¤íŒ¨í•¨ì„ í™•ì¸. ê´€ë¦¬ì ì¸ì¦ ìƒíƒœ ê´€ë¦¬ ì˜¤ë¥˜ë„ ë°œê²¬</div>
      </div>
      <div class="timeline-item done">
        <div class="timeline-time">Step 4</div>
        <div class="timeline-title">ë²„ê·¸ ìˆ˜ì • (2ê°œ íŒŒì¼)</div>
        <div class="timeline-desc">server/db.ts: createdBy ì¡°ê±´ ì œê±° / server/routers.ts: userId ì¸ì ì œê±° / client/Home.tsx: adminLogin ìƒíƒœ ë¶„ë¦¬</div>
      </div>
      <div class="timeline-item done">
        <div class="timeline-time">Step 5</div>
        <div class="timeline-title">ì‹¤ì œ ë™ì‘ ê²€ì¦</div>
        <div class="timeline-desc">í…ŒìŠ¤íŠ¸ ì˜ˆì•½ ìƒì„± â†’ ê´€ë¦¬ì ë¡œê·¸ì¸ â†’ ì‚­ì œ ë²„íŠ¼ í´ë¦­ â†’ "ì˜ˆ" í™•ì¸ â†’ í™”ë©´ì—ì„œ ì¦‰ì‹œ ì‚¬ë¼ì§ í™•ì¸ â†’ DBì—ì„œë„ ì‚­ì œ í™•ì¸</div>
      </div>
    </div>
  </div>

</div>

<footer>
  <p>ì›ê´‘ëŒ€í•™êµ ë¡œìŠ¤ì¿¨ PBL ì˜ˆì•½ì‹œìŠ¤í…œ ë²„ê·¸ ìˆ˜ì • ë³´ê³ ì„œ &nbsp;|&nbsp; <strong>2026ë…„ 2ì›” 20ì¼</strong></p>
  <p style="margin-top:8px; opacity:0.7;">ìˆ˜ì •ëœ íŒŒì¼: server/db.ts, server/routers.ts, client/src/pages/Home.tsx</p>
</footer>

<script>
  // Tab switching
  function switchTab(id) {
    document.querySelectorAll('.tab-btn').forEach((btn, i) => {
      const ids = ['bugs', 'flow', 'diff', 'verify'];
      btn.classList.toggle('active', ids[i] === id);
    });
    document.querySelectorAll('.tab-panel').forEach(p => {
      p.classList.toggle('active', p.id === 'tab-' + id);
    });
    if (id === 'verify') initCharts();
  }

  let chartsInitialized = false;
  function initCharts() {
    if (chartsInitialized) return;
    chartsInitialized = true;

    // Success rate chart
    new Chart(document.getElementById('successChart'), {
      type: 'bar',
      data: {
        labels: ['ìˆ˜ì • ì „', 'ìˆ˜ì • í›„'],
        datasets: [{
          label: 'ì‚­ì œ ì„±ê³µë¥  (%)',
          data: [0, 100],
          backgroundColor: ['#fee2e2', '#dcfce7'],
          borderColor: ['#dc2626', '#16a34a'],
          borderWidth: 2,
          borderRadius: 8,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { display: false },
          tooltip: {
            callbacks: {
              label: ctx => ` ${ctx.raw}%`
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 110,
            ticks: { callback: v => v + '%' },
            grid: { color: '#f3f4f6' }
          },
          x: { grid: { display: false } }
        }
      }
    });

    // Severity chart
    new Chart(document.getElementById('severityChart'), {
      type: 'doughnut',
      data: {
        labels: ['Critical (DB ì‚­ì œ ì˜¤ë¥˜)', 'Moderate (ì¸ì¦ ë¡œì§)'],
        datasets: [{
          data: [1, 1],
          backgroundColor: ['#fee2e2', '#fef3c7'],
          borderColor: ['#dc2626', '#d97706'],
          borderWidth: 2,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: { font: { size: 12 }, padding: 16 }
          }
        },
        cutout: '60%'
      }
    });
  }
</script>
</body>
</html>
